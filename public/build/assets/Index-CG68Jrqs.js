import{d as D,n as C,r as v,E as y,c as k,g as M,o as i,w as B,b as t,i as z,v as A,j as p,h as g,t as l,a as u,F as L,k as N}from"./app-5hW2Sshw.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-BaAAEYBa.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D5S9NPtp.js";import"./useForwardExpose-BkvCCpX1.js";import"./RovingFocusGroup-CmXDBocc.js";const $={class:"w-full px-5"},F={class:"delays-header"},I={class:"delays-controls"},E={class:"search-box"},V={class:"tabs-container"},U={class:"badge"},H={class:"badge"},P={class:"table-container"},j={key:0,class:"empty-state"},O={key:1,class:"data-table"},Q=D({__name:"Index",setup(d){const c=C().props.auth.user,a=v([]),n=v("active"),r=v("");y(`delays.${c.id}`,"UpdateDelay",o=>{a.value.push(o.data)});const f=k(()=>(n.value==="active"?a.value.filter(e=>e.status!=="completed"):a.value.filter(e=>e.status==="completed")).filter(e=>{var s;return e.vehicle.toLowerCase().includes(r.value.toLowerCase())||((s=e.reason)==null?void 0:s.toLowerCase().includes(r.value.toLowerCase()))})),_={pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",paused:"bg-orange-100 text-orange-800",completed:"bg-green-100 text-green-800"},m=o=>o?new Date(o).toLocaleString():"N/A",b=(o,e)=>{if(!o)return"N/A";const h=(e?new Date(e):new Date)-new Date(o),w=Math.floor(h/(1e3*60*60)),x=Math.floor(h%(1e3*60*60)/(1e3*60));return`${w}h ${x}m`};return(o,e)=>(i(),M(T,null,{default:B(()=>[t("div",$,[t("header",F,[e[4]||(e[4]=t("h1",{class:"delays-title"},"Administración de Delays",-1)),t("div",I,[t("div",E,[e[3]||(e[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"search-icon",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)),z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),type:"text",placeholder:"Buscar delays...",class:"search-input"},null,512),[[A,r.value]])])])]),t("div",V,[t("button",{onClick:e[1]||(e[1]=s=>n.value="active"),class:p(["tab-btn",{active:n.value==="active"}])},[e[5]||(e[5]=g(" Delays Activos ")),t("span",U,l(a.value.filter(s=>s.status!=="completed").length),1)],2),t("button",{onClick:e[2]||(e[2]=s=>n.value="completed"),class:p(["tab-btn",{active:n.value==="completed"}])},[e[6]||(e[6]=g(" Histórico ")),t("span",H,l(a.value.filter(s=>s.status==="completed").length),1)],2)]),t("div",P,[f.value.length===0?(i(),u("div",j,[e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"empty-icon",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),t("p",null,"No hay delays "+l(n.value==="active"?"activos":"completados"),1)])):(i(),u("table",O,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Vehículo"),t("th",null,"Inicio"),t("th",null,"Fin"),t("th",null,"Duración"),t("th",null,"Estado"),t("th",null,"Motivo"),t("th",null,"Usuario")])],-1)),t("tbody",null,[(i(!0),u(L,null,N(a.value,s=>(i(),u("tr",{key:s.id},[t("td",null,l(s.user_id),1),t("td",null,l(s.vehicle),1),t("td",null,l(m(s.start_time)),1),t("td",null,l(m(s.end_time)),1),t("td",null,l(b(s.start_time,s.end_time)),1),t("td",null,[t("span",{class:p(["status-badge",_[s.status]])},l(s.status==="pending"?"Pendiente":s.status==="in_progress"?"En progreso":s.status==="paused"?"Pausado":"Completado"),3)]),t("td",null,l(s.reason||"N/A"),1),t("td",null,l(s.user_id),1)]))),128))])]))])])]),_:1}))}}),S=(d,c)=>{const a=d.__vccOpts||d;for(const[n,r]of c)a[n]=r;return a},W=S(Q,[["__scopeId","data-v-66292450"]]);export{W as default};
