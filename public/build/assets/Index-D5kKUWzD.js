import{d as D,n as y,r as v,E as C,c as k,a as i,o as u,b as t,i as M,v as z,j as p,h as g,t as l,F as A,k as B}from"./app-CKRH9l1X.js";const L={class:"delays-container"},N={class:"delays-header"},T={class:"delays-controls"},F={class:"search-box"},I={class:"tabs-container"},$={class:"badge"},E={class:"badge"},V={class:"table-container"},U={key:0,class:"empty-state"},H={key:1,class:"data-table"},P=D({__name:"Index",setup(d){const c=y().props.auth.user,a=v([]),o=v("active"),r=v("");C(`delays.${c.id}`,"UpdateDelay",n=>{a.value.push(n.data)});const b=k(()=>(o.value==="active"?a.value.filter(e=>e.status!=="completed"):a.value.filter(e=>e.status==="completed")).filter(e=>{var s;return e.vehicle.toLowerCase().includes(r.value.toLowerCase())||((s=e.reason)==null?void 0:s.toLowerCase().includes(r.value.toLowerCase()))})),f={pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",paused:"bg-orange-100 text-orange-800",completed:"bg-green-100 text-green-800"},m=n=>n?new Date(n).toLocaleString():"N/A",_=(n,e)=>{if(!n)return"N/A";const h=(e?new Date(e):new Date)-new Date(n),w=Math.floor(h/(1e3*60*60)),x=Math.floor(h%(1e3*60*60)/(1e3*60));return`${w}h ${x}m`};return(n,e)=>(u(),i("div",L,[t("header",N,[e[4]||(e[4]=t("h1",{class:"delays-title"},"Administración de Delays",-1)),t("div",T,[t("div",F,[e[3]||(e[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"search-icon",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)),M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),type:"text",placeholder:"Buscar delays...",class:"search-input"},null,512),[[z,r.value]])])])]),t("div",I,[t("button",{onClick:e[1]||(e[1]=s=>o.value="active"),class:p(["tab-btn",{active:o.value==="active"}])},[e[5]||(e[5]=g(" Delays Activos ")),t("span",$,l(a.value.filter(s=>s.status!=="completed").length),1)],2),t("button",{onClick:e[2]||(e[2]=s=>o.value="completed"),class:p(["tab-btn",{active:o.value==="completed"}])},[e[6]||(e[6]=g(" Histórico ")),t("span",E,l(a.value.filter(s=>s.status==="completed").length),1)],2)]),t("div",V,[b.value.length===0?(u(),i("div",U,[e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"empty-icon",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),t("p",null,"No hay delays "+l(o.value==="active"?"activos":"completados"),1)])):(u(),i("table",H,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Vehículo"),t("th",null,"Inicio"),t("th",null,"Fin"),t("th",null,"Duración"),t("th",null,"Estado"),t("th",null,"Motivo"),t("th",null,"Usuario")])],-1)),t("tbody",null,[(u(!0),i(A,null,B(a.value,s=>(u(),i("tr",{key:s.id},[t("td",null,l(s.user_id),1),t("td",null,l(s.vehicle),1),t("td",null,l(m(s.start_time)),1),t("td",null,l(m(s.end_time)),1),t("td",null,l(_(s.start_time,s.end_time)),1),t("td",null,[t("span",{class:p(["status-badge",f[s.status]])},l(s.status==="pending"?"Pendiente":s.status==="in_progress"?"En progreso":s.status==="paused"?"Pausado":"Completado"),3)]),t("td",null,l(s.reason||"N/A"),1),t("td",null,l(s.user_id),1)]))),128))])]))])]))}}),j=(d,c)=>{const a=d.__vccOpts||d;for(const[o,r]of c)a[o]=r;return a},Q=j(P,[["__scopeId","data-v-7527af03"]]);export{Q as default};
