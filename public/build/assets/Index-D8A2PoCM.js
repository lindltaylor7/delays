import{d as D,C as z,r as y,a as i,o as n,b as r,p as h,t as l,i as x,G as C,u as o,F as V,k as _,e as d,w as u,h as m,H as f,v as S}from"./app-CKRH9l1X.js";import{_ as g}from"./index-BW79_pzU.js";const M={class:"delay-container",style:{"max-width":"42rem","margin-left":"auto","margin-right":"auto",padding:"1.5rem",background:"white","border-radius":"0.5rem","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.1)"}},B={class:"delay-header",style:{"margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"1px solid #e5e7eb"}},$={style:{"font-size":"1.5rem","font-weight":"700",color:"#1f2937"}},j={style:{color:"#4b5563","margin-top":"0.5rem"}},A={class:"delay-controls"},I={class:"vehicle-selector",style:{"margin-bottom":"1rem"}},F=["value"],H={class:"action-buttons",style:{display:"grid","grid-template-columns":"repeat(2, minmax(0, 1fr))",gap:"0.75rem","margin-top":"1rem"}},N={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},L={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},R={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},q={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},E={key:0,style:{position:"fixed",inset:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center",padding:"1rem","z-index":"50"}},O={style:{background:"white","border-radius":"0.5rem",padding:"1.5rem",width:"100%","max-width":"28rem"}},P={style:{"font-size":"1.125rem","font-weight":"500","margin-bottom":"1rem"}},U={style:{"margin-bottom":"1rem"}},G={style:{display:"flex","justify-content":"flex-end",gap:"0.75rem"}},J={style:{"margin-top":"0.25rem"}},K={key:0,style:{"font-size":"0.875rem","margin-top":"0.5rem"}},X=D({__name:"Index",props:{title:{type:String,required:!0},description:{type:String,required:!0},vehicles:{type:Array,default:()=>["Vehículo 1","Vehículo 2","Vehículo 3"]}},setup(c){const t=z({status:0,vehicle:"",start_time:"",end_time:"",reason:"",user_id:0}),p=y(!1),v=y(""),b=a=>{if(a!==3){v.value=a===1?"Iniciar Demora":a===2?"Reanudar Demora":"Pausar Demora",p.value=!0;return}w(a)},w=a=>{t.status=a,t.user_id=1,t.start_time=new Date().toISOString(),a===3&&(t.end_time=new Date().toISOString()),t.post(route("delay.store"),{onFinish:()=>t.reset()}),p.value=!1,console.log("Demora registrada",a)};return(a,e)=>(n(),i("div",M,[r("header",B,[r("h1",$,l(c.title),1),r("p",j,l(c.description),1)]),r("div",A,[r("div",I,[e[9]||(e[9]=r("label",{for:"vehicle",style:{display:"block","font-size":"0.875rem","font-weight":"500",color:"#374151","margin-bottom":"0.25rem"}},"Vehículo",-1)),x(r("select",{id:"vehicle","onUpdate:modelValue":e[0]||(e[0]=s=>o(t).vehicle=s),style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db","border-radius":"0.375rem",color:"#000"}},[e[8]||(e[8]=r("option",{value:"",disabled:""},"Seleccione un vehículo",-1)),(n(!0),i(V,null,_(c.vehicles,(s,k)=>(n(),i("option",{key:k,value:s},l(s),9,F))),128))],512),[[C,o(t).vehicle]])]),r("div",H,[d(g,{onClick:e[1]||(e[1]=s=>b(1)),style:f([{padding:"0.75rem","background-color":"#3b82f6",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status===1?"0.7":"1","background-color":o(t).status===1?"#93c5fd":"#3b82f6",cursor:o(t).status===1?"not-allowed":"pointer"}]),disabled:o(t).status===1},{default:u(()=>[(n(),i("svg",N,e[10]||(e[10]=[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)]))),e[11]||(e[11]=m(" Iniciar Demora "))]),_:1},8,["disabled","style"]),d(g,{onClick:e[2]||(e[2]=s=>b(2)),style:f([{padding:"0.75rem","background-color":"#f59e0b",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status!==1?"0.7":"1","background-color":o(t).status!==1?"#fcd34d":"#f59e0b",cursor:o(t).status!==1?"not-allowed":"pointer"}]),disabled:o(t).status!==1},{default:u(()=>[(n(),i("svg",L,e[12]||(e[12]=[r("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))),e[13]||(e[13]=m(" Pausar Demora "))]),_:1},8,["disabled","style"]),d(g,{onClick:e[3]||(e[3]=s=>b(3)),style:f([{padding:"0.75rem","background-color":"#10b981",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status===0?"0.7":"1","background-color":o(t).status===0?"#a7f3d0":"#10b981",cursor:o(t).status===0?"not-allowed":"pointer"}]),disabled:o(t).status===0},{default:u(()=>[(n(),i("svg",R,e[14]||(e[14]=[r("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),e[15]||(e[15]=m(" Finalizar Demora "))]),_:1},8,["disabled","style"]),d(g,{onClick:e[4]||(e[4]=s=>b(4)),style:f([{padding:"0.75rem","background-color":"#6366f1",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status!==2?"0.7":"1","background-color":o(t).status!==2?"#a5b4fc":"#6366f1",cursor:o(t).status!==2?"not-allowed":"pointer"}]),disabled:o(t).status!==2},{default:u(()=>[(n(),i("svg",q,e[16]||(e[16]=[r("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},null,-1)]))),e[17]||(e[17]=m(" Reanudar Demora "))]),_:1},8,["disabled","style"])])]),p.value?(n(),i("div",E,[r("div",O,[r("h3",P,l(v.value),1),r("div",U,[e[18]||(e[18]=r("label",{for:"reason",style:{display:"block","font-size":"0.875rem","font-weight":"500",color:"#374151","margin-bottom":"0.25rem"}},"Motivo de la demora",-1)),x(r("textarea",{id:"reason","onUpdate:modelValue":e[5]||(e[5]=s=>o(t).reason=s),rows:"3",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db","border-radius":"0.375rem",color:"#000"},placeholder:"Describa el motivo de la demora..."},null,512),[[S,o(t).reason]])]),r("div",G,[d(g,{variant:"secondary",onClick:e[6]||(e[6]=s=>p.value=!1)},{default:u(()=>e[19]||(e[19]=[m(" Cancelar ")])),_:1}),d(g,{style:{"background-color":"#10b981"},onClick:e[7]||(e[7]=s=>w(o(t).status))},{default:u(()=>e[20]||(e[20]=[m(" Confirmar ")])),_:1})])])])):h("",!0),r("div",{class:"status-indicator",style:f([{"margin-top":"1.5rem",padding:"1rem","border-radius":"0.375rem"},{background:o(t).status===1?"#dbeafe":o(t).status===2?"#fef3c7":o(t).status===3?"#d1fae5":"#f3f4f6",color:o(t).status===1?"#1e40af":o(t).status===2?"#92400e":o(t).status===3?"#065f46":"#374151"}])},[e[21]||(e[21]=r("h3",{style:{"font-weight":"500"}},"Estado actual:",-1)),r("p",J,l(o(t).status===1?"Demora en progreso":o(t).status===2?"Demora pausada":o(t).status===3?"Demora finalizada":"Sin demora registrada"),1),o(t).start_time?(n(),i("p",K,"Iniciado: "+l(new Date(o(t).start_time).toLocaleString()),1)):h("",!0)],4)]))}});export{X as default};
