import{d as S,C as V,r as x,g as M,o as i,w as l,b as r,a,p as k,t as n,i as y,u as o,F as _,k as z,G as C,e as m,H as p,h as u,v as B}from"./app-GhAiC9zw.js";import{_ as g}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CIVNyJJ9.js";import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-DaDRrGqn.js";import"./useForwardExpose-DZrQ5VjY.js";import"./RovingFocusGroup-C0h0cECo.js";const A={class:"delay-container",style:{"max-width":"42rem","margin-left":"auto","margin-right":"auto",padding:"1.5rem",background:"white","border-radius":"0.5rem","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.1)"}},j={class:"delay-header",style:{"margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"1px solid #e5e7eb"}},I={style:{"font-size":"1.5rem","font-weight":"700",color:"#1f2937"}},F={style:{color:"#4b5563","margin-top":"0.5rem"}},H={class:"delay-controls"},N={class:"vehicle-selector",style:{"margin-bottom":"1rem"}},L=["value"],U={class:"reason-selector",style:{"margin-bottom":"1rem"}},q=["value"],E={class:"action-buttons",style:{display:"grid","grid-template-columns":"repeat(2, minmax(0, 1fr))",gap:"0.75rem","margin-top":"1rem"}},O={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},R={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},G={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},P={xmlns:"http://www.w3.org/2000/svg",style:{width:"1.25rem",height:"1.25rem","margin-right":"0.5rem"},viewBox:"0 0 20 20",fill:"currentColor"},J={key:0,style:{position:"fixed",inset:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center",padding:"1rem","z-index":"50"}},K={style:{background:"white","border-radius":"0.5rem",padding:"1.5rem",width:"100%","max-width":"28rem"}},Q={style:{"font-size":"1.125rem","font-weight":"500","margin-bottom":"1rem"}},T={style:{"margin-bottom":"1rem"}},W={style:{display:"flex","justify-content":"flex-end",gap:"0.75rem"}},X={style:{"margin-top":"0.25rem"}},Y={key:0,style:{"font-size":"0.875rem","margin-top":"0.5rem"}},se=S({__name:"Index",props:{title:{type:String,required:!0},description:{type:String,required:!0},vehicles:{type:Array},reasons:{type:Array}},setup(b){const w=b,t=V({status:0,vehicle_id:0,start_time:"",end_time:"",reason_id:0,user_id:0}),c=x(!1),D=x(""),f=d=>{h(d)},h=d=>{t.status=d,t.user_id=1,t.start_time=new Date().toISOString(),d===3&&(t.end_time=new Date().toISOString()),t.post(route("delay.store"),{onFinish:()=>t.reset()}),c.value=!1,console.log("Demora registrada",d)};return(d,e)=>(i(),M($,null,{default:l(()=>[r("div",A,[r("header",j,[r("h1",I,n(b.title),1),r("p",F,n(b.description),1)]),r("div",H,[r("div",N,[e[10]||(e[10]=r("label",{for:"vehicle",style:{display:"block","font-size":"0.875rem","font-weight":"500",color:"#374151","margin-bottom":"0.25rem"}},"Vehículo",-1)),y(r("select",{id:"vehicle","onUpdate:modelValue":e[0]||(e[0]=s=>o(t).vehicle_id=s),style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db","border-radius":"0.375rem",color:"#000"}},[e[9]||(e[9]=r("option",{value:"",disabled:""},"Seleccione un vehículo",-1)),(i(!0),a(_,null,z(w.vehicles,(s,v)=>(i(),a("option",{key:v,value:s.id},n(s.code),9,L))),128))],512),[[C,o(t).vehicle_id]])]),r("div",U,[e[12]||(e[12]=r("label",{for:"reason",style:{display:"block","font-size":"0.875rem","font-weight":"500",color:"#374151","margin-bottom":"0.25rem"}},"Motivo",-1)),y(r("select",{id:"vehicle","onUpdate:modelValue":e[1]||(e[1]=s=>o(t).reason_id=s),style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db","border-radius":"0.375rem",color:"#000"}},[e[11]||(e[11]=r("option",{value:"",disabled:""},"Seleccione un vehículo",-1)),(i(!0),a(_,null,z(w.reasons,(s,v)=>(i(),a("option",{key:v,value:s.id},n(s.description),9,q))),128))],512),[[C,o(t).reason_id]])]),r("div",E,[m(g,{onClick:e[2]||(e[2]=s=>f(1)),style:p([{padding:"0.75rem","background-color":"#3b82f6",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status===1?"0.7":"1","background-color":o(t).status===1?"#93c5fd":"#3b82f6",cursor:o(t).status===1?"not-allowed":"pointer"}]),disabled:o(t).status===1},{default:l(()=>[(i(),a("svg",O,e[13]||(e[13]=[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)]))),e[14]||(e[14]=u(" Iniciar Demora "))]),_:1},8,["disabled","style"]),m(g,{onClick:e[3]||(e[3]=s=>f(2)),style:p([{padding:"0.75rem","background-color":"#f59e0b",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status!==1?"0.7":"1","background-color":o(t).status!==1?"#fcd34d":"#f59e0b",cursor:o(t).status!==1?"not-allowed":"pointer"}]),disabled:o(t).status!==1},{default:l(()=>[(i(),a("svg",R,e[15]||(e[15]=[r("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))),e[16]||(e[16]=u(" Pausar Demora "))]),_:1},8,["disabled","style"]),m(g,{onClick:e[4]||(e[4]=s=>f(3)),style:p([{padding:"0.75rem","background-color":"#10b981",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status===0?"0.7":"1","background-color":o(t).status===0?"#a7f3d0":"#10b981",cursor:o(t).status===0?"not-allowed":"pointer"}]),disabled:o(t).status===0},{default:l(()=>[(i(),a("svg",G,e[17]||(e[17]=[r("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),e[18]||(e[18]=u(" Finalizar Demora "))]),_:1},8,["disabled","style"]),m(g,{onClick:e[5]||(e[5]=s=>f(4)),style:p([{padding:"0.75rem","background-color":"#6366f1",color:"white",border:"none","border-radius":"0.375rem","font-weight":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 1px 2px rgba(0, 0, 0, 0.1)"},{opacity:o(t).status!==2?"0.7":"1","background-color":o(t).status!==2?"#a5b4fc":"#6366f1",cursor:o(t).status!==2?"not-allowed":"pointer"}]),disabled:o(t).status!==2},{default:l(()=>[(i(),a("svg",P,e[19]||(e[19]=[r("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},null,-1)]))),e[20]||(e[20]=u(" Reanudar Demora "))]),_:1},8,["disabled","style"])])]),c.value?(i(),a("div",J,[r("div",K,[r("h3",Q,n(D.value),1),r("div",T,[e[21]||(e[21]=r("label",{for:"reason",style:{display:"block","font-size":"0.875rem","font-weight":"500",color:"#374151","margin-bottom":"0.25rem"}},"Motivo de la demora",-1)),y(r("textarea",{id:"reason","onUpdate:modelValue":e[6]||(e[6]=s=>o(t).reason=s),rows:"3",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db","border-radius":"0.375rem",color:"#000"},placeholder:"Describa el motivo de la demora..."},null,512),[[B,o(t).reason]])]),r("div",W,[m(g,{variant:"secondary",onClick:e[7]||(e[7]=s=>c.value=!1)},{default:l(()=>e[22]||(e[22]=[u(" Cancelar ")])),_:1}),m(g,{style:{"background-color":"#10b981"},onClick:e[8]||(e[8]=s=>h(o(t).status))},{default:l(()=>e[23]||(e[23]=[u(" Confirmar ")])),_:1})])])])):k("",!0),r("div",{class:"status-indicator",style:p([{"margin-top":"1.5rem",padding:"1rem","border-radius":"0.375rem"},{background:o(t).status===1?"#dbeafe":o(t).status===2?"#fef3c7":o(t).status===3?"#d1fae5":"#f3f4f6",color:o(t).status===1?"#1e40af":o(t).status===2?"#92400e":o(t).status===3?"#065f46":"#374151"}])},[e[24]||(e[24]=r("h3",{style:{"font-weight":"500"}},"Estado actual:",-1)),r("p",X,n(o(t).status===1?"Demora en progreso":o(t).status===2?"Demora pausada":o(t).status===3?"Demora finalizada":"Sin demora registrada"),1),o(t).start_time?(i(),a("p",Y," Iniciado: "+n(new Date(o(t).start_time).toLocaleString()),1)):k("",!0)],4)])]),_:1}))}});export{se as default};
